function in$(a,b){for(var c=0,d=b.length;d>c;++c)if(c in b&&b[c]===a)return!0;return!1}var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth",initialize:function(a,b){return b.register("auth:main",get$(b,"Auth")||get$(Em,"Auth"),{singleton:!0}),b.inject("route","auth","auth:main"),b.inject("controller","auth","auth:main"),b.inject("view","auth","auth:main")}}),a.initializer({name:"ember-auth-load",after:"ember-auth",initialize:function(a){return a.lookup("auth:main")}})}),void function(){var a,b=Ember.get,c=Ember.set;a=jQuery,c(Em,"Auth",Ember.Object.extend({_defaults:{},_config:function(c,d){return null!=d?function(a){var e,f;for(e in d)f=d[e],b(this,"_defaults")[c]||(b(this,"_defaults")[c]={}),a.push(b(this,"_defaults")[c][e]=f);return a}.call(this,[]):a.extend(!0,{},b(this,"_defaults")[c],this.get(c))},_handlers:{signInSuccess:[],signInError:[],signOutSuccess:[],signOutError:[],sendSuccess:[],sendError:[]},module:Ember.computed(function(){var a,c;c={};for(var d=0,e=b(this,"modules").length;e>d;++d)a=b(this,"modules")[d],c[a]=b(this,"container").lookup("authModule:"+a);return c}).property("modules.@each"),_request:Ember.computed(function(){return b(this,"container").lookup("authRequest:"+b(this,"request"))}).property("request"),_response:Ember.computed(function(){return b(this,"container").lookup("authResponse:"+b(this,"response"))}).property("response"),_strategy:Ember.computed(function(){return b(this,"container").lookup("authStrategy:"+b(this,"strategy"))}).property("strategy"),_session:Ember.computed(function(){return b(this,"container").lookup("authSession:"+b(this,"session"))}).property("session"),signIn:function(a,c){var d;return"undefined"==typeof c?(c=a,a=b(this,"_request").resolveUrl(b(this,"signInEndPoint"))):a=b(this,"_request").resolveUrl(a),c||(c={}),new(b(b(Em,"RSVP"),"Promise"))((d=this,function(e,f){var g,h;return b(d,"_request").signIn(a,b(d,"_strategy").serialize(c)).then((g=d,function(a){var c,d,h;c=b(g,"_response").canonicalize(a),h=[],h.push(b(g,"_strategy").deserialize(c)),h.push(b(g,"_session").start(c));for(var i=0,j=b(b(g,"_handlers"),"signInSuccess").length;j>i;++i)d=b(b(g,"_handlers"),"signInSuccess")[i],h.push(d(c));return b(Em,"RSVP").all(h).then(function(){return e(c)}).fail(function(){return f(c)})})).fail((h=d,function(a){var c,d,e;c=b(h,"_response").canonicalize(a),e=[],e.push(b(h,"_strategy").deserialize(c)),e.push(b(h,"_session").end(c));for(var g=0,i=b(b(h,"_handlers"),"signInError").length;i>g;++g)d=b(b(h,"_handlers"),"signInError")[g],e.push(d(c));return b(Em,"RSVP").all(e).then(function(){return f(c)}).fail(function(){return f(c)})}))}))},signOut:function(a,c){var d;return"undefined"==typeof c?(c=a,a=b(this,"_request").resolveUrl(b(this,"signOutEndPoint"))):a=b(this,"_request").resolveUrl(a),c||(c={}),new(b(b(Em,"RSVP"),"Promise"))((d=this,function(e,f){var g,h;return b(d,"_request").signOut(a,b(d,"_strategy").serialize(c)).then((g=d,function(a){var c,d,h;c=b(g,"_response").canonicalize(a),h=[],h.push(b(g,"_strategy").deserialize(c)),h.push(b(g,"_session").end(c));for(var i=0,j=b(b(g,"_handlers"),"signOutSuccess").length;j>i;++i)d=b(b(g,"_handlers"),"signOutSuccess")[i],h.push(d(c));return b(Em,"RSVP").all(h).then(function(){return e(c)}).fail(function(){return f(c)})})).fail((h=d,function(a){var c,d,e;c=b(h,"_response").canonicalize(a),e=[];for(var g=0,i=b(b(h,"_handlers"),"signOutError").length;i>g;++g)d=b(b(h,"_handlers"),"signOutError")[g],e.push(d(c));return b(Em,"RSVP").all(e).then(function(){return f(c)}).fail(function(){return f(c)})}))}))},send:function(a,c){var d;return"undefined"==typeof c?(c=a,a=b(this,"_request").resolveUrl("")):a=b(this,"_request").resolveUrl(a),c||(c={}),new(b(b(Em,"RSVP"),"Promise"))((d=this,function(e,f){var g,h;return b(d,"_request").send(a,b(d,"_strategy").serialize(c)).then((g=d,function(a){var c,d;d=[];for(var h=0,i=b(b(g,"_handlers"),"sendSuccess").length;i>h;++h)c=b(b(g,"_handlers"),"sendSuccess")[h],d.push(c(a));return b(Em,"RSVP").all(d).then(function(){return e(a)}).fail(function(){return f(a)})})).fail((h=d,function(a){var c,d;d=[];for(var e=0,g=b(b(h,"_handlers"),"sendError").length;g>e;++e)c=b(b(h,"_handlers"),"sendError")[e],d.push(c(a));return b(Em,"RSVP").all(d).then(function(){return f(a)}).fail(function(){return f(a)})}))}))},createSession:function(a){var c;return new(b(b(Em,"RSVP"),"Promise"))((c=this,function(d,e){var f,g;"string"==typeof a&&(a=b(c,"_response").canonicalize(a)),g=[],g.push(b(c,"_strategy").deserialize(a)),g.push(b(c,"_session").start(a));for(var h=0,i=b(b(c,"_handlers"),"signInSuccess").length;i>h;++h)f=b(b(c,"_handlers"),"signInSuccess")[h],g.push(f(a));return b(Em,"RSVP").all(g).then(function(){return d(a)}).fail(function(){return e(a)})}))},destroySession:function(a){var c;return null==a&&(a={}),new(b(b(Em,"RSVP"),"Promise"))((c=this,function(d,e){var f,g;"string"==typeof a&&(a=b(c,"_response").canonicalize(a)),g=[],g.push(b(c,"_strategy").deserialize(a)),g.push(b(c,"_session").end(a));for(var h=0,i=b(b(c,"_handlers"),"signOutSuccess").length;i>h;++h)f=b(b(c,"_handlers"),"signOutSuccess")[h],g.push(f(a));return b(Em,"RSVP").all(g).then(function(){return d(a)}).fail(function(){return e(a)})}))},addHandler:function(a,c){var d;return d="Handler type unrecognized; you passed in `"+a+"`",Em.assert(d,null!=b(this,"_handlers")[a]),d="Handler must be a function",Em.assert(d,"function"==typeof c),b(this,"_handlers")[a].pushObject(c)},removeHandler:function(a,c){var d;return d="Handler type unrecognized; you passed in `"+a+"`",Em.assert(d,null!=b(this,"_handlers")[a]),d="Handler must be a function or omitted for removing all handlers",Em.assert(d,"function"==typeof c||"undefined"==typeof c),null!=c?b(this,"_handlers")[a].removeObject(c):b(this,"_handlers")[a]=[]},_ensurePromise:function(a){return"function"==typeof b(a,"then")?a:new(b(b(Em,"RSVP"),"resolve"))(a)}}))}.call(this),void function(){var a,b=Ember.get,c=Ember.set;a=function(a){return function(){throw new(b(Em,"Error"))("Your request adapter "+this.toString()+" must implement the required method `"+a+"`")}},c(b(Em,"Auth"),"AuthRequest",Ember.Object.extend({signIn:a("signIn"),signOut:a("signOut"),send:a("send"),resolveUrl:function(a){var c;return c=b(b(this,"auth"),"baseUrl"),c&&"/"===c[b(c,"length")-1]&&(c=c.substr(0,b(c,"length")-1)),"/"===(null!=a?a[0]:void 0)&&(a=a.substr(1,b(a,"length"))),[c,a].join("/")}}))}.call(this),void function(){var a,b=Ember.get,c=Ember.set;a=function(a){return function(){throw new(b(Em,"Error"))("Your response adapter "+this.toString()+" must implement the required method `"+a+"`")}},c(b(Em,"Auth"),"AuthResponse",Ember.Object.extend({canonicalize:a("canonicalize")}))}.call(this),void function(){var a,b=Ember.get,c=Ember.set;a=function(a){return function(){throw new(b(Em,"Error"))("Your strategy adapter "+this.toString()+" must implement the required method `"+a+"`")}},c(b(Em,"Auth"),"AuthStrategy",Ember.Object.extend({serialize:a("serialize"),deserialize:a("deserialize")}))}.call(this),void function(){var a,b=Ember.get,c=Ember.set;a=function(a){return function(){throw new(b(Em,"Error"))("Your session adapter "+this.toString()+" must implement the required method `"+a+"`")}},c(b(Em,"Auth"),"AuthSession",Ember.Object.extend({init:function(){return b(this,"auth").reopen({signedIn:b(Em,"computed").alias("_session.signedIn"),userId:b(Em,"computed").alias("_session.userId"),startTime:b(Em,"computed").alias("_session.startTime"),endTime:b(Em,"computed").alias("_session.endTime")}),b(this,"auth").addHandler("signInSuccess",b(this,"start")),b(this,"auth").addHandler("signOutSuccess",b(this,"end"))},signedIn:!1,userId:null,startTime:null,endTime:null,start:function(){return c(this,"signedIn",!0),c(this,"startTime",new Date),c(this,"endTime",null)},end:function(){return c(this,"signedIn",!1),c(this,"userId",null),c(this,"startTime",null),c(this,"endTime",new Date)},retrieve:a("retrieve"),store:a("store"),remove:a("remove")}))}.call(this);var get$=Ember.get;get$(Em,"Auth").reopen({request:"jquery",response:"json",strategy:"token",session:"cookie",modules:[],signInEndPoint:null,signOutEndPoint:null,baseUrl:null});var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth.request.jquery",before:"ember-auth-load",initialize:function(a,b){return b.register("authRequest:jquery",get$(get$(Em,"Auth"),"JqueryAuthRequest"),{singleton:!0}),b.inject("authRequest:jquery","auth","auth:main")}}),a.initializer({name:"ember-auth.request.jquery-load",after:"ember-auth-load",initialize:function(a){return a.lookup("authRequest:jquery")}})}),void function(){var a,b=Ember.get,c=Ember.set;a=jQuery,c(b(Em,"Auth"),"JqueryAuthRequest",b(b(Em,"Auth"),"AuthRequest").extend({init:function(){return b(this,"auth").reopen({jqxhr:b(Em,"computed").alias("_request.jqxhr")})},jqxhr:null,signIn:function(b,c){return this.send(b,a.extend(!0,{type:"POST"},c))},signOut:function(b,c){return this.send(b,a.extend(!0,{type:"DELETE"},c))},send:function(d,e){var f,g,h;return f={url:d,dataType:"json"},b(e,"data")&&null==b(e,"contentType")&&(null!=b(e,"type")&&"GET"!==b(e,"type").toUpperCase()&&c(e,"data",JSON.stringify(b(e,"data"))),"GET"!==(null!=b(e,"type")?b(e,"type").toUpperCase():void 0)&&c(f,"contentType","application/json; charset=utf-8")),g=a.extend(!0,f,e),new(b(b(Em,"RSVP"),"Promise"))((h=this,function(d,e){var f,i;return a.ajax(g).done((f=h,function(a,e,g){return c(f,"jqxhr",g),d(b(g,"responseText"))})).fail((i=h,function(a){return c(i,"jqxhr",a),e(b(a,"responseText"))}))}))}}))}.call(this);var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth.response.json",before:"ember-auth-load",initialize:function(a,b){return b.register("authResponse:json",get$(get$(Em,"Auth"),"JsonAuthResponse"),{singleton:!0}),b.inject("authResponse:json","auth","auth:main")}}),a.initializer({name:"ember-auth.response.json-load",after:"ember-auth-load",initialize:function(a){return a.lookup("authResponse:json")}})});var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"JsonAuthResponse",get$(get$(Em,"Auth"),"AuthResponse").extend({canonicalize:function(a){var b;if(!a)return{};try{return JSON.parse(a)}catch(c){throw b=c,"Invalid JSON format"}}}));var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth.strategy.token",before:"ember-auth-load",initialize:function(a,b){return b.register("authStrategy:token",get$(get$(Em,"Auth"),"TokenAuthStrategy"),{singleton:!0}),b.inject("authStrategy:token","auth","auth:main")}}),a.initializer({name:"ember-auth.strategy.token-load",after:"ember-auth-load",initialize:function(a){return a.lookup("authStrategy:token")}})});var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"TokenAuthStrategy",get$(get$(Em,"Auth"),"AuthStrategy").extend({init:function(){return get$(this,"auth").reopen({authToken:get$(Em,"computed").alias("_strategy.authToken")})},authToken:null,serialize:function(a){if(!get$(get$(this,"auth"),"signedIn"))return a;switch(get$(get$(this,"auth"),"tokenLocation")){case"param":a.data||(a.data={}),"undefined"!=typeof FormData&&null!=FormData&&get$(a,"data")instanceof FormData?get$(a,"data").append(get$(get$(this,"auth"),"tokenKey"),get$(this,"authToken")):get$(a,"data")[get$(get$(this,"auth"),"tokenKey")]||(get$(a,"data")[get$(get$(this,"auth"),"tokenKey")]=get$(this,"authToken"));break;case"authHeader":a.headers||(a.headers={}),get$(a,"headers").Authorization||(get$(a,"headers").Authorization=""+get$(get$(this,"auth"),"tokenHeaderKey")+" "+get$(this,"authToken"));break;case"customHeader":a.headers||(a.headers={}),get$(a,"headers")[get$(get$(this,"auth"),"tokenHeaderKey")]||(get$(a,"headers")[get$(get$(this,"auth"),"tokenHeaderKey")]=get$(this,"authToken"))}return a},deserialize:function(a){return set$(this,"authToken",a[get$(get$(this,"auth"),"tokenKey")]),get$(get$(this,"auth"),"tokenIdKey")?set$(get$(get$(this,"auth"),"_session"),"userId",a[get$(get$(this,"auth"),"tokenIdKey")]):void 0}}));var get$=Ember.get;get$(Em,"Auth").reopen({tokenKey:null,tokenIdKey:null,tokenLocation:"param",tokenHeaderKey:null}),function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(function(a){function b(a){return a}function c(a){return decodeURIComponent(a.replace(e," "))}function d(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return f.json?JSON.parse(a):a}catch(b){}}var e=/\+/g,f=a.cookie=function(e,g,h){if(void 0!==g){if(h=a.extend({},f.defaults,h),"number"==typeof h.expires){var i=h.expires,j=h.expires=new Date;j.setDate(j.getDate()+i)}return g=f.json?JSON.stringify(g):String(g),document.cookie=[encodeURIComponent(e),"=",f.raw?g:encodeURIComponent(g),h.expires?"; expires="+h.expires.toUTCString():"",h.path?"; path="+h.path:"",h.domain?"; domain="+h.domain:"",h.secure?"; secure":""].join("")}for(var k=f.raw?b:c,l=document.cookie.split("; "),m=e?void 0:{},n=0,o=l.length;o>n;n++){var p=l[n].split("="),q=k(p.shift()),r=k(p.join("="));if(e&&e===q){m=d(r);break}e||(m[q]=d(r))}return m};f.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend(c,{expires:-1})),!0):!1}});var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth.session.cookie",before:"ember-auth-load",initialize:function(a,b){return b.register("authSession:cookie",get$(get$(Em,"Auth"),"CookieAuthSession"),{singleton:!0}),b.inject("authSession:cookie","auth","auth:main")}}),a.initializer({name:"ember-auth.session.cookie-load",after:"ember-auth-load",initialize:function(a){return a.lookup("authSession:cookie")}})}),void function(){var a,b=Ember.get,c=Ember.set;a=jQuery,c(b(Em,"Auth"),"CookieAuthSession",b(b(Em,"Auth"),"AuthSession").extend({retrieve:function(b){return a.cookie(b)},store:function(b,c,d){return a.cookie(b,c,a.extend(!0,{path:"/"},d))},remove:function(b,c){return a.removeCookie(b,a.extend(!0,{path:"/"},c))}}))}.call(this);var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth.module.ember-data",before:"ember-auth-load",initialize:function(a,b){return b.register("authModule:emberData",get$(get$(Em,"Auth"),"EmberDataAuthModule"),{singleton:!0}),b.inject("authModule:emberData","auth","auth:main"),b.inject("authModule:emberData","store","store:main")}}),a.initializer({name:"ember-auth.module.ember-data-load",after:"ember-auth-load",initialize:function(a){return a.lookup("authModule:emberData")}})});var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"EmberDataAuthModule",Ember.Object.extend({init:function(){return get$(this,"auth")._config("emberData",get$(this,"_defaultConfig")),null!=get$(this,"config")||set$(this,"config",get$(this,"auth")._config("emberData")),this.patch(),get$(this,"auth").reopen({user:get$(Em,"computed").alias("module.emberData.user")}),get$(this,"auth").addHandler("signInSuccess",get$(this,"findUser").bind(this)),get$(this,"auth").addHandler("signInError",get$(this,"clearUser").bind(this)),get$(this,"auth").addHandler("signOutSuccess",get$(this,"clearUser").bind(this))},_defaultConfig:{userModel:!1},user:null,findUser:function(){var a;if(null!=get$(get$(this,"auth"),"userId")&&get$(get$(this,"config"),"userModel"))return get$(this,"store").find(get$(get$(this,"config"),"userModel"),get$(get$(this,"auth"),"userId")).then((a=this,function(b){return set$(a,"user",b)}))},clearUser:function(){return set$(this,"user",null)},patch:function(){var a;return a=this,get$(DS,"RESTAdapter").reopen({ajax:function(b,c,d){return this._super(b,c,get$(get$(a,"auth"),"_strategy").serialize(d||{}))}})}}));var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth.module.action-redirectable",before:"ember-auth-load",initialize:function(a,b){return b.register("authModule:actionRedirectable",get$(get$(Em,"Auth"),"ActionRedirectableAuthModule"),{singleton:!0}),b.inject("authModule:actionRedirectable","auth","auth:main"),b.inject("authModule:actionRedirectable","router","router:main"),get$(Em,"Route").reopen({beforeModel:function(a,b){return null==b&&(b=a),get$(get$(get$(this,"auth"),"module"),"actionRedirectable").registerRedirect(b),this._super.apply(this,arguments)}})}}),a.initializer({name:"ember-auth.module.action-redirectable-load",after:"ember-auth-load",initialize:function(a){return a.lookup("authModule:actionRedirectable")}})});var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"ActionRedirectableAuthModule",Ember.Object.extend({init:function(){return get$(this,"auth")._config("actionRedirectable",get$(this,"_defaultConfig")),null!=get$(this,"config")||set$(this,"config",get$(this,"auth")._config("actionRedirectable")),get$(this,"auth").addHandler("signInSuccess",get$(this,"redirect").bind(this)),get$(this,"auth").addHandler("signOutSuccess",get$(this,"redirect").bind(this))},_defaultConfig:{signInRoute:!1,signOutRoute:!1,signInSmart:!1,signOutSmart:!1,signInBlacklist:[],signOutBlacklist:[]},signInRedir:null,signOutRedir:null,registerRedirect:function(a){var b;return b=this.canonicalizeRoute(get$(a,"targetName")),in$(b,this.getBlacklist("signIn"))||set$(this,"signInRedir",a),in$(b,this.getBlacklist("signOut"))?void 0:set$(this,"signOutRedir",a)},canonicalizeRoute:function(a){var b;return"string"!=typeof a?"":(b=function(a,b){var c;return c=get$(a,"length")-get$(b,"length"),c>=0&&a.lastIndexOf(b)===c},b(a,".index")?a.substr(0,a.lastIndexOf(".index")):a)},getBlacklist:function(a){var b;return(b=get$(this,"config")[""+a+"Blacklist"])?function(a){for(var c,d=0,e=b.length;e>d;++d)c=b[d],a.push(this.canonicalizeRoute(c));return a}.call(this,[]):[]},resolveRedirect:function(a){var b,c;return"signIn"!==a&&"signOut"!==a?null:(c=get$(this,"config")[""+a+"Smart"],b=this.canonicalizeRoute(get$(this,"config")[""+a+"Route"]),b?c?this.get(""+a+"Redir")||b:b:null)},redirect:function(){var a,b;if(a=get$(get$(this,"auth"),"signedIn")?"signIn":"signOut",b=this.resolveRedirect(a))switch(typeof b){case"object":return b.retry();case"string":return get$(this,"router").transitionTo(b)}}}));var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth.module.auth-redirectable",before:"ember-auth-load",initialize:function(a,b){return b.register("authModule:authRedirectable",get$(get$(Em,"Auth"),"AuthRedirectableAuthModule"),{singleton:!0}),b.inject("authModule:authRedirectable","auth","auth:main")}}),a.initializer({name:"ember-auth.module.auth-redirectable-load",after:"ember-auth-load",initialize:function(a){return a.lookup("authModule:authRedirectable")}})});var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"AuthRedirectableAuthModule",Ember.Object.extend({init:function(){return get$(this,"auth")._config("authRedirectable",get$(this,"_defaultConfig")),null!=get$(this,"config")||set$(this,"config",get$(this,"auth")._config("authRedirectable")),set$(get$(get$(this,"auth"),"_handlers"),"authAccess",[]),this.patch()},_defaultConfig:{route:null},patch:function(){var a;return a=this,get$(Em,"Route").reopen({beforeModel:function(b,c){var d;return get$(a,"auth")._ensurePromise(this._super.apply(this,arguments)).then((d=this,function(){var e,f,g;if(!get$(get$(a,"auth"),"signedIn")&&get$(d,"authRedirectable")){null==c&&(c=b),f=[];for(var h=0,i=get$(get$(get$(a,"auth"),"_handlers"),"authAccess").length;i>h;++h)e=get$(get$(get$(a,"auth"),"_handlers"),"authAccess")[h],f.push(e(c));return get$(Em,"RSVP").all(f).then((g=d,function(){return g.transitionTo(get$(get$(a,"config"),"route"))}))}}))}})}}));var get$=Ember.get;Em.onLoad("Ember.Application",function(a){return a.initializer({name:"ember-auth.module.rememberable",before:"ember-auth-load",initialize:function(a,b){return b.register("authModule:rememberable",get$(get$(Em,"Auth"),"RememberableAuthModule"),{singleton:!0}),b.inject("authModule:rememberable","auth","auth:main")}}),a.initializer({name:"ember-auth.module.rememberable-load",after:"ember-auth-load",initialize:function(a){return a.lookup("authModule:rememberable")}})});var get$=Ember.get,set$=Ember.set;set$(get$(Em,"Auth"),"RememberableAuthModule",Ember.Object.extend({init:function(){return get$(this,"auth")._config("rememberable",get$(this,"_defaultConfig")),null!=get$(this,"config")||set$(this,"config",get$(this,"auth")._config("rememberable")),this.patch(),get$(this,"auth").addHandler("signInSuccess",get$(this,"remember").bind(this)),get$(this,"auth").addHandler("signInError",get$(this,"forget").bind(this)),get$(this,"auth").addHandler("signOutSuccess",get$(this,"forget").bind(this))},_defaultConfig:{tokenKey:null,period:14,autoRecall:!0,endPoint:null},recall:function(a){var b;return null==a&&(a={}),!get$(get$(this,"auth"),"signedIn")&&(b=this.retrieveToken())?(set$(this,"fromRecall",!0),a.data||(a.data={}),get$(a,"data")[get$(get$(this,"config"),"tokenKey")]=b,null!=get$(get$(this,"config"),"endPoint")?get$(this,"auth").signIn(get$(get$(this,"config"),"endPoint"),a):get$(this,"auth").signIn(a)):new(get$(get$(Em,"RSVP"),"resolve"))},remember:function(a){var b;return get$(this,"fromRecall")||this.forget(),set$(this,"fromRecall",!1),(b=a[get$(get$(this,"config"),"tokenKey")])&&b!==this.retrieveToken()?this.storeToken(b):void 0},forget:function(){return this.removeToken()},retrieveToken:function(){return get$(get$(this,"auth"),"_session").retrieve("ember-auth-rememberable")},storeToken:function(a){return get$(get$(this,"auth"),"_session").store("ember-auth-rememberable",a,{expires:get$(get$(this,"config"),"period")})},removeToken:function(){return get$(get$(this,"auth"),"_session").remove("ember-auth-rememberable")},patch:function(){var a;return a=this,get$(Em,"Route").reopen({beforeModel:function(){return get$(a,"auth")._ensurePromise(this._super.apply(this,arguments)).then(function(){return get$(get$(a,"config"),"autoRecall")&&!get$(get$(a,"auth"),"signedIn")?a.recall():void 0})}})}}));